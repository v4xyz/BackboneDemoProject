define("arale-select/0.10.0/index",["arale-overlay/1.2.0/overlay","jquery/1.7.2/jquery","position/1.1.0/index","arale-iframe-shim/1.1.0/index","arale-widget/1.2.0/widget","arale-base/1.2.0/base","arale-class/1.2.0/class","arale-events/1.2.0/events","arale-templatable/0.10.0/src/templatable","handlebars/1.3.0/dist/cjs/handlebars","handlebars-runtime/1.3.0/dist/cjs/handlebars.runtime"],function(e,t,s){s.exports=e("arale-select/0.10.0/src/select")}),define("arale-select/0.10.0/src/select",["arale-overlay/1.2.0/overlay","jquery/1.7.2/jquery","position/1.1.0/index","arale-iframe-shim/1.1.0/index","arale-widget/1.2.0/widget","arale-base/1.2.0/base","arale-class/1.2.0/class","arale-events/1.2.0/events","arale-templatable/0.10.0/src/templatable","handlebars/1.3.0/dist/cjs/handlebars","handlebars-runtime/1.3.0/dist/cjs/handlebars.runtime"],function(e,t,s){function a(e,t){var s,a=[],i=e.options,l=i.length,r=!1;for(s=0;l>s;s++){var n,d={},c=i[s],h=["text","value","defaultSelected","selected","disabled"];for(n in h){var o=h[n];d[o]=c[o]}c.selected&&(r=!0),a.push(d)}return!r&&a.length&&(a[0].selected="true"),{select:a,classPrefix:t}}function i(e,t){var s,a,i,l,r=[],n=[];for(s=0,i=e.length;i>s;s++){var d=h.extend({},e[s]);d.selected&&n.push(s),d.selected=d.defaultSelected=!!d.selected,d.disabled=!!d.disabled,r.push(d)}if(n.length>0)for(n.pop(),a=0,l=n.length;l>a;a++)r[n[a]].selected=!1;else r[0].selected=!0;return{select:r,classPrefix:t}}function l(e,t){var s;return s=h.isNumeric(e)?e:t.index("string"==typeof e?t.parent().find(e):e)}function r(e,t){if(e&&e[0]&&(e=e[0],"select"===e.tagName.toLowerCase())){h(e).find("option").remove();for(var s in t){var a=t[s],i=document.createElement("option");i.text=a.text,i.value=a.value,e.add(i)}}}function n(e,t){return e?e+"-"+t:""}function d(e){var t=0;return e.find("li").each(function(e,s){t+=h(s).outerHeight()}),t}var c=e("arale-overlay/1.2.0/overlay"),h=e("jquery/1.7.2/jquery"),o=e("arale-templatable/0.10.0/src/templatable"),u=e("arale-select/0.10.0/src/select.handlebars"),g=c.extend({Implements:o,attrs:{trigger:{value:null,getter:function(e){return h(e).eq(0)}},classPrefix:"ui-select",template:u,align:{baseXY:[0,"100%-1px"]},triggerTpl:'<a href="#"></a>',name:"",value:"",length:0,selectedIndex:-1,multiple:!1,disabled:!1,maxHeight:null,selectSource:null},events:{click:function(e){e.stopPropagation()},"click [data-role=item]":function(e){var t=h(e.currentTarget);t.data("disabled")||this.select(t)},"mouseenter [data-role=item]":function(e){var t=h(e.currentTarget);t.data("disabled")||t.addClass(n(this.get("classPrefix"),"hover"))},"mouseleave [data-role=item]":function(e){var t=h(e.currentTarget);t.data("disabled")||t.removeClass(n(this.get("classPrefix"),"hover"))}},templateHelpers:{output:function(e){return e+""}},initAttrs:function(e,t){g.superclass.initAttrs.call(this,e,t);var s,l=this.get("trigger");if(l.addClass(n(this.get("classPrefix"),"trigger")),"select"===l[0].tagName.toLowerCase()){s=l.attr("name"),s&&this.set("name",s),this.set("selectSource",l);var r=h(this.get("triggerTpl")).addClass(n(this.get("classPrefix"),"trigger"));this.set("trigger",r),this._initFromSelect=!0,l.after(r).css({position:"absolute",left:"-99999px",zIndex:-100}),this.set("model",a(l[0],this.get("classPrefix")))}else{if(s=this.get("name")){var d=h('input[name="'+s+'"]').eq(0);d[0]||(d=h('<input type="text" id="select-'+s.replace(/\./g,"-")+'" name="'+s+'" />').css({position:"absolute",left:"-99999px",zIndex:-100}).insertAfter(l)),this.set("selectSource",d)}this.set("model",i(this.get("model"),this.get("classPrefix")))}},setup:function(){this._bindEvents(),this._initOptions(),this._initHeight(),this._tweakAlignDefaultValue(),this._blurHide(this.get("trigger")),g.superclass.setup.call(this)},render:function(){return g.superclass.render.call(this),this._setTriggerWidth(),this},destroy:function(){this._initFromSelect&&this.get("trigger").remove(),this.get("selectSource")&&this.get("selectSource").remove(),this.element.remove(),g.superclass.destroy.call(this)},select:function(e){var t=l(e,this.options),s=this.get("selectedIndex");this.set("selectedIndex",t);var a=this.get("model");if(s>=0&&(a.select[s].selected=!1),t>=0&&(a.select[t].selected=!0),this.set("model",a),s!==t){var i=this.options.eq(t),r=this.options.eq(s);this.trigger("change",i,r)}return this.hide(),this},syncModel:function(e){this.set("model",i(e,this.get("classPrefix"))),this.renderPartial("[data-role=content]"),r(this.get("selectSource"),e),this.options=this.$("[data-role=content]").children(),this.set("length",this.options.length),this.set("selectedIndex",-1),this.set("value","");{var t=l("[data-selected=true]",this.options);this.get("selectedIndex")}return this.set("selectedIndex",t),this._setTriggerWidth(),this},getOption:function(e){var t=l(e,this.options);return this.options.eq(t)},addOption:function(e){var t=this.get("model").select;return t.push(e),this.syncModel(t),this},removeOption:function(e){var t=l(e,this.options),s=this.get("selectedIndex"),a=this.options.eq(t);return a.remove(),this.options=this.$("[data-role=content]").children(),this.set("length",this.options.length),t===s?this.set("selectedIndex",0):s>t&&this.set("selectedIndex",s-1),this},enableOption:function(e){var t=l(e,this.options),s=this.get("model").select;return s[t].disabled=!1,this.syncModel(s),this},disableOption:function(e){var t=l(e,this.options),s=this.get("model").select;return s[t].disabled=!0,this.syncModel(s),this},_onRenderSelectedIndex:function(e){if(-1!==e){var t=this.options.eq(e),s=this.currentItem,a=t.attr("data-value");if(!s||t[0]!==s[0]){var i=this.get("selectSource");i&&("select"===i[0].tagName.toLowerCase()?i[0].selectedIndex=e:i[0].value=a),s&&s.attr("data-selected","false").removeClass(n(this.get("classPrefix"),"selected")),t.attr("data-selected","true").addClass(n(this.get("classPrefix"),"selected")),this.set("value",a);var l=this.get("trigger"),r=l.find("[data-role=trigger-content]");r.length?r.html(t.html()):l.html(t.html()),this.currentItem=t}}},_onRenderDisabled:function(e){var t=n(this.get("classPrefix"),"disabled"),s=this.get("trigger");s[e?"addClass":"removeClass"](t);var a=this.options.eq(this.get("selectedIndex"));this.trigger("disabledChange",a,e)},_bindEvents:function(){var e=this.get("trigger");this.delegateEvents(e,"mousedown",this._triggerHandle),this.delegateEvents(e,"click",function(e){e.preventDefault()}),this.delegateEvents(e,"mouseenter",function(){e.addClass(n(this.get("classPrefix"),"trigger-hover"))}),this.delegateEvents(e,"mouseleave",function(){e.removeClass(n(this.get("classPrefix"),"trigger-hover"))})},_initOptions:function(){this.options=this.$("[data-role=content]").children(),this.select("[data-selected=true]"),this.set("length",this.options.length)},_setTriggerWidth:function(){var e=this.get("trigger"),t=this.element.outerWidth(),s=parseInt(e.css("padding-left"),10),a=parseInt(e.css("padding-right"),10),i=parseInt(e.css("border-left-width"),10)||0,l=parseInt(e.css("border-right-width"),10)||0;e.css("width",t-s-a-i-l)},_tweakAlignDefaultValue:function(){var e=this.get("align");"VIEWPORT"===e.baseElement._id&&(e.baseElement=this.get("trigger")),this.set("align",e)},_triggerHandle:function(e){e.preventDefault(),this.get("disabled")||(this.get("visible")?this.hide():this.show())},_initHeight:function(){this.after("show",function(){var e=this.get("maxHeight");if(e){var t=this.$("[data-role=content]"),s=d(t);this.set("height",s>e?e:""),t.scrollTop(0)}})}});s.exports=g}),define("arale-select/0.10.0/src/select.handlebars",["handlebars-runtime/1.3.0/dist/cjs/handlebars.runtime"],function(e,t,s){var a=e("handlebars-runtime/1.3.0/dist/cjs/handlebars.runtime")["default"];s.exports=a.template(function(e,t,s,a,i){function l(e,t,a){var i,l,n,d="";return d+='\n        <li data-role="item"\n          class="'+o((i=a&&a.classPrefix,typeof i===h?i.apply(e):i))+"-item ",i=s["if"].call(e,e&&e.disabled,{hash:{},inverse:u.noop,fn:u.programWithDepth(2,r,t,a),data:t}),(i||0===i)&&(d+=i),d+='"\n          data-value="',(l=s.value)?i=l.call(e,{hash:{},data:t}):(l=e&&e.value,i=typeof l===h?l.call(e,{hash:{},data:t}):l),d+=o(i)+'"\n          data-defaultSelected="'+o((l=s.output||e&&e.output,n={hash:{},data:t},l?l.call(e,e&&e.defaultSelected,n):g.call(e,"output",e&&e.defaultSelected,n)))+'"\n          data-selected="'+o((l=s.output||e&&e.output,n={hash:{},data:t},l?l.call(e,e&&e.selected,n):g.call(e,"output",e&&e.selected,n)))+'"\n          data-disabled="'+o((l=s.output||e&&e.output,n={hash:{},data:t},l?l.call(e,e&&e.disabled,n):g.call(e,"output",e&&e.disabled,n)))+'">',(l=s.text)?i=l.call(e,{hash:{},data:t}):(l=e&&e.text,i=typeof l===h?l.call(e,{hash:{},data:t}):l),(i||0===i)&&(d+=i),d+="</li>\n        "}function r(e,t,s){var a,i="";return i+=o((a=s&&s.classPrefix,typeof a===h?a.apply(e):a))+"-item-disabled"}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),i=i||{};var n,d,c="",h="function",o=this.escapeExpression,u=this,g=s.helperMissing;return c+='<div class="',(d=s.classPrefix)?n=d.call(t,{hash:{},data:i}):(d=t&&t.classPrefix,n=typeof d===h?d.call(t,{hash:{},data:i}):d),c+=o(n)+'">\n    <ul class="',(d=s.classPrefix)?n=d.call(t,{hash:{},data:i}):(d=t&&t.classPrefix,n=typeof d===h?d.call(t,{hash:{},data:i}):d),c+=o(n)+'-content" data-role="content">\n        ',n=s.each.call(t,t&&t.select,{hash:{},inverse:u.noop,fn:u.programWithDepth(1,l,i,t),data:i}),(n||0===n)&&(c+=n),c+="\n    </ul>\n</div>\n"})});