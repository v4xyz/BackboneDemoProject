define("arale-sticky/1.4.0/index",["jquery/1.7.2/jquery"],function(t,i,o){function e(t){this.options=t||{},this.elem=h(this.options.element),this.callback=t.callback||function(){},this.position=t.position,this._stickyId=d++}function s(t,i,o){return h.isPlainObject(i)||(i={top:i}),void 0===i.top&&void 0===i.bottom&&(i.top=0),new e({element:t,position:i,callback:o}).render()}function n(){return!f}function l(){if(m)return!1;var t=c[0].body;if(c[0].createElement&&t&&t.appendChild&&t.removeChild){var i,o=c[0].createElement("div"),e=function(t){return window.getComputedStyle?window.getComputedStyle(o).getPropertyValue(t):o.currentStyle.getAttribute(t)};t.appendChild(o);for(var s=0;s<a.length&&(o.style.cssText="position:"+a[s]+"sticky;visibility:hidden;",!(i=-1!==e("position").indexOf("sticky")));s++);return o.parentNode.removeChild(o),i}}function r(){return(Date.now||function(){return(new Date).getTime()})()}function p(t,i,o){var e,s,n,l,p;return function(){n=this,s=arguments,l=r();var h=function(){var c=r()-l;i>c?e=setTimeout(h,i-c):(e=null,o||(p=t.apply(n,s)))},c=o&&!e;return e||(e=setTimeout(h,i)),c&&(p=t.apply(n,s)),p}}var h=t("jquery/1.7.2/jquery"),c=h(document),a=["-webkit-","-ms-","-o-","-moz-",""],d=0,u=(window.navigator.userAgent||"").toLowerCase(),m=-1!==u.indexOf("msie"),f=-1!==u.indexOf("msie 6"),y=l(),_=n();e.prototype._prepare=function(){var t=this.elem.offset();this._originTop=t.top,this._originLeft=t.left,this.position.top===Number.MAX_VALUE&&(this._callFix=!0,this.position.top=this._originTop),this._originStyles={position:null,top:null,bottom:null,left:null};for(var i in this._originStyles)this._originStyles.hasOwnProperty(i)&&(this._originStyles[i]=this.elem.css(i))},e.prototype.render=function(){var t=this;if(!this.elem.length||this.elem.data("bind-sticked"))return this;this._prepare(),this.adjust=function(){t._restore();var o=t.elem.offset();t._originTop=o.top,t._originLeft=o.left,i.call(t)};var i;if(s.isPositionStickySupported&&!this._callFix){i=this._supportSticky;for(var o="",e=0;e<a.length;e++)o+="position:"+a[e]+"sticky;";void 0!==this.position.top&&(o+="top: "+this.position.top+"px;"),void 0!==this.position.bottom&&(o+="bottom: "+this.position.bottom+"px;"),this.elem[0].style.cssText+=o,this.adjust=function(){i.call(t)}}else s.isPositionFixedSupported?i=this._supportFixed:(i=this._supportAbsolute,h("<style type='text/css'> * html{ background:url(null) no-repeat fixed; } </style>").appendTo("head"));return i.call(this),h(window).on("scroll.sticky"+this._stickyId,function(){t.elem.is(":visible")&&i.call(t)}),h(window).on("resize.sticky"+this._stickyId,p(function(){t.adjust()},120)),this.elem.data("bind-sticked",!0),this},e.prototype._getTopBottom=function(t,i){var o,e;return void 0!==this.position.top&&(o=i-t<=this.position.top),void 0!==this.position.bottom&&(e=t+h(window).height()-i-this.elem.outerHeight()<=this.position.bottom),{top:o,bottom:e}},e.prototype._supportFixed=function(){var t=this.elem.data("sticked"),i=this._getTopBottom(c.scrollTop(),this._originTop);!t&&(void 0!==i.top&&i.top||void 0!==i.bottom&&i.bottom)?(this._addPlaceholder(),this.elem.css(h.extend({position:"fixed",left:this._originLeft},i.top?{top:this.position.top}:{bottom:this.position.bottom})),this.elem.data("sticked",!0),this.callback.call(this,!0)):!t||i.top||i.bottom||this._restore()},e.prototype._supportAbsolute=function(){var t=c.scrollTop(),i=this.elem.data("sticked"),o=this._getTopBottom(t,this.elem.offset().top);o.top||o.bottom||this._callFix?(i||(this._addPlaceholder(),this.elem.data("sticked",!0),this.callback.call(this,!0)),this.elem.css({position:"absolute",top:this._callFix?this._originTop+t:o.top?this.position.top+t:t+h(window).height()-this.position.bottom-this.elem.outerHeight()})):!i||o.top||o.bottom||this._restore()},e.prototype._supportSticky=function(){var t=this.elem.data("sticked"),i=this._getTopBottom(c.scrollTop(),this.elem.offset().top);!t&&(void 0!==i.top&&i.top||void 0!==i.bottom&&i.bottom)?(this.elem.data("sticked",!0),this.callback.call(this,!0)):!t||i.top||i.bottom||(this.elem.data("sticked",!1),this.callback.call(this,!1))},e.prototype._restore=function(){this._removePlaceholder(),this.elem.css(this._originStyles),this.elem.data("sticked",!1),this.callback.call(this,!1)},e.prototype._addPlaceholder=function(){var t=!1,i=this.elem.css("position");("static"===i||"relative"===i)&&(t=!0),"block"!==this.elem.css("display")&&(t=!1),t&&(this._placeholder=h('<div style="visibility:hidden;margin:0;padding:0;"></div>'),this._placeholder.width(this.elem.outerWidth(!0)).height(this.elem.outerHeight(!0)).css("float",this.elem.css("float")).insertAfter(this.elem))},e.prototype._removePlaceholder=function(){this._placeholder&&this._placeholder.remove()},e.prototype.destroy=function(){this._restore(),this.elem.data("bind-sticked",!1),h(window).off("scroll.sticky"+this._stickyId),h(window).off("resize.sticky"+this._stickyId)},o.exports=s,s.stick=s,s.fix=function(t){return new e({element:t,position:{top:Number.MAX_VALUE}}).render()},s.isPositionStickySupported=y,s.isPositionFixedSupported=_});